{"version":3,"file":"static/js/822.07623489.chunk.js","mappings":"qVAEMA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIC,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACgBC,MAEnB,iDACAN,GAJG,cACCO,EADD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAyBC,GAAzB,yFACgBH,MAAM,sCAAD,OACcG,EADd,mBAExBT,GAHG,cACCO,EADD,gBAKeA,EAAOG,OALtB,cAKCC,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAuBH,GAAvB,yFACgBH,MAAM,sCAAD,OACcG,EADd,2BAExBT,GAHG,cACCO,EADD,gBAKcA,EAAOG,OALrB,cAKCG,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BL,GAA1B,yFACgBH,MAAM,sCAAD,OACcG,EADd,kCAExBT,GAHG,cACCO,EADD,gBAKiBA,EAAOG,OALxB,cAKCK,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,yFACgBX,MAAM,mDAAD,OAC2BW,EAD3B,8CAExBjB,GAHG,cACCO,EADD,gBAKeA,EAAOG,OALtB,cAKCC,EALD,yBAMEA,GANF,kE,kGC9CP,EAAuB,yBAAvB,EAAuD,yBAAvD,EAAyF,2B,SCC5EO,EAAa,SAAC,GAAY,IAAVC,EAAS,EAATA,GAC3B,OACE,gBAAIC,UAAWC,EAAf,WACE,wBAAKF,EAAGG,eAAeC,YACvB,cAAGH,UAAWC,EAAd,SAAyBF,EAAGK,WAC5B,eAAGJ,UAAWC,EAAd,qBAAmCF,EAAGG,eAAeG,YAG1D,ECTD,EAAuB,sBAAvB,EAAmD,qBCI3CX,EAAeY,EAAQ,KAAvBZ,WACAa,EAAcD,EAAQ,KAAtBC,UAgDR,EA9CgB,WACd,IAAQC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOf,EAAP,KAAgBgB,EAAhB,KACA,GAA4BD,EAAAA,EAAAA,UAAS,QAArC,eAAOE,EAAP,KAAeC,EAAf,KAwBA,OAtBAN,GAAU,WACRM,EAAU,YACVnB,EAAWc,GACRM,MAAK,SAAAC,GACJ,IAAoB,IAAhBA,EAAIC,QAEN,OADAH,EAAU,YACHI,QAAQC,OAAO,IAAIC,MAAM,wBAIlCR,EAAWI,GACXF,EAAU,WACX,IACAO,OAAM,SAAAC,GAAK,OAAIC,QAAQC,IAAIF,EAAhB,GACf,GAAE,CAACb,IAQW,aAAXI,EAC6B,IAA3BjB,EAAQ6B,QAAQC,QACX,gBAAKzB,UAAWC,EAAhB,4CAGP,eAAID,UAAWC,EAAf,SACGN,GACCA,EAAQ6B,QAAQE,KAAI,SAAA3B,GAClB,OAAO,SAACD,EAAD,CAAwBC,GAAIA,GAAXA,EAAGS,GAC5B,MAKM,aAAXI,GACK,sDADT,CAGD,C","sources":["components/api.jsx","webpack://goit-react-hw-05-movies/./src/components/reviewItem/reviewItem.module.css?1e11","components/reviewItem/reviewItem.jsx","webpack://goit-react-hw-05-movies/./src/components/reviews/reviews.module.css?dfbc","components/reviews/reviews.jsx"],"sourcesContent":["// const key = 'a7847a7111d49121298d04d56ec9460a';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNzg0N2E3MTExZDQ5MTIxMjk4ZDA0ZDU2ZWM5NDYwYSIsInN1YiI6IjY0ZGM3OWQ0ZDEwMGI2MTRiNWY2YjlmZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.P2495hNu_tPV7ATn8vHZ3gQxpzZA5UQFueIAJcgSG4A',\n  },\n};\n\nexport async function getTrends() {\n  const result = await fetch(\n    // 'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    'https://api.themoviedb.org/3/trending/all/week',\n    options\n  );\n  return result;\n}\n\nexport async function findMovie(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n  const movie = await result.json();\n  return movie;\n}\n\nexport async function getCast(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  const cast = await result.json();\n  return cast;\n}\n\nexport async function getReviews(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  );\n  const reviews = await result.json();\n  return reviews;\n}\n\nexport async function findMovieByName(query) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  const movie = await result.json();\n  return movie;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"reviewItem_card__W4-HO\",\"text\":\"reviewItem_text__m48lB\",\"rating\":\"reviewItem_rating__iqyfz\"};","import css from './reviewItem.module.css';\n\nexport const ReviewItem = ({ el }) => {\n  return (\n    <li className={css.card}>\n      <h3>{el.author_details.username}</h3>\n      <p className={css.text}>{el.content}</p>\n      <p className={css.rating}>rating: {el.author_details.rating}</p>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"reviews_list__mQt+U\",\"bad\":\"reviews_bad__JHjCc\"};","import { useParams } from 'react-router-dom';\nimport { useState } from 'react';\nimport { ReviewItem } from 'components/reviewItem/reviewItem';\nimport css from './reviews.module.css';\n\nconst { getReviews } = require('components/api');\nconst { useEffect } = require('react');\n\nconst Reviews = () => {\n  const { id } = useParams();\n  const [reviews, setReviews] = useState('');\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setStatus('pendding');\n    getReviews(id)\n      .then(res => {\n        if (res.success === false) {\n          setStatus('rejected');\n          return Promise.reject(new Error('someting went wrong'));\n        }\n        // console.log(res);\n\n        setReviews(res);\n        setStatus('resolved');\n      })\n      .catch(error => console.log(error));\n  }, [id]);\n\n  //   if (reviews.results.length === 0) {\n  //     return <div>We don't have any reviews yet</div>;\n  //   }\n  // if (status === 'pendding') {\n  //   return <div>Loading...</div>;\n  // }\n  if (status === 'resolved') {\n    if (reviews.results.length === 0) {\n      return <div className={css.bad}>We don't have any reviews yet</div>;\n    }\n    return (\n      <ul className={css.list}>\n        {reviews &&\n          reviews.results.map(el => {\n            return <ReviewItem key={el.id} el={el} />;\n          })}\n      </ul>\n    );\n  }\n\n  if (status === 'rejected') {\n    return <div>someting went wrong</div>;\n  }\n};\n\nexport default Reviews;\n"],"names":["options","method","headers","accept","Authorization","getTrends","fetch","result","findMovie","movieId","json","movie","getCast","cast","getReviews","reviews","findMovieByName","query","ReviewItem","el","className","css","author_details","username","content","rating","require","useEffect","id","useParams","useState","setReviews","status","setStatus","then","res","success","Promise","reject","Error","catch","error","console","log","results","length","map"],"sourceRoot":""}