{"version":3,"file":"static/js/937.72df3b7e.chunk.js","mappings":"qVAEMA,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,+NAIC,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,oGACgBC,MAEnB,iDACAN,GAJG,cACCO,EADD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAyBC,GAAzB,yFACgBH,MAAM,sCAAD,OACcG,EADd,mBAExBT,GAHG,cACCO,EADD,gBAKeA,EAAOG,OALtB,cAKCC,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAuBH,GAAvB,yFACgBH,MAAM,sCAAD,OACcG,EADd,2BAExBT,GAHG,cACCO,EADD,gBAKcA,EAAOG,OALrB,cAKCG,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA0BL,GAA1B,yFACgBH,MAAM,sCAAD,OACcG,EADd,kCAExBT,GAHG,cACCO,EADD,gBAKiBA,EAAOG,OALxB,cAKCK,EALD,yBAMEA,GANF,kEASA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA+BC,GAA/B,yFACgBX,MAAM,mDAAD,OAC2BW,EAD3B,8CAExBjB,GAHG,cACCO,EADD,gBAKeA,EAAOG,OALtB,cAKCC,EALD,yBAMEA,GANF,kE,mHC9CP,EAAuB,2BAAvB,EAA2D,6BAA3D,EAAgG,4BAAhG,EAAmI,2BAAnI,EAAqK,2BAArK,EAAqM,yB,SCsFrM,EAlFqB,WAAO,IAAD,IACnBO,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAI5CC,GAAOC,EAAAA,EAAAA,MAAPD,GACR,GAAwCE,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAeA,OAbAC,EAAAA,EAAAA,YAAU,YACRrB,EAAAA,EAAAA,WAAUgB,GACPM,MAAK,SAAAC,GACJ,IAAoB,IAAhBA,EAAIC,QACN,OAAOC,QAAQC,OAAO,IAAIC,MAAM,wBAGlCP,EAAgBG,EACjB,IACAK,OAAM,SAAAC,GAAK,OAAIC,MAAMD,EAAV,GACf,GAAE,CAACb,KAIF,4BACE,4BACE,SAAC,EAAAe,KAAD,CAAMC,GAAIpB,EAAaqB,QAASC,UAAWC,EAA3C,sBAGA,eAAID,UAAWC,EAAf,SAA2BhB,EAAaiB,SACxC,gBACEC,IACElB,EAAamB,YACT,CAAC,mCAAD,OAAoCnB,EAAamB,cA3B7D,8EA8BMC,MAAO,IACPC,OAAQ,IACRN,UAAWC,EACXM,IAAI,YAEN,eAAGP,UAAWC,EAAd,yBAAqChB,EAAauB,iBAClD,4BACE,eAAIR,UAAWC,EAAf,uBACA,cAAGD,UAAWC,EAAd,SAAyBhB,EAAawB,eAExC,4BACE,eAAIT,UAAWC,EAAf,qBACA,eAAID,UAAWC,EAAf,SACGhB,GACCA,EAAayB,OAAOC,KAAI,SAAAC,GACtB,OACE,eAAIZ,UAAWC,EAAf,SACGW,EAAMC,MADmBD,EAAM9B,GAIrC,UAGP,4BACE,eAAIkB,UAAWC,EAAf,6BACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,EAAAJ,KAAD,CAAMC,GAAG,OAAOE,UAAWC,EAA3B,qBAIF,yBACE,SAAC,EAAAJ,KAAD,CAAMC,GAAG,UAAUE,UAAWC,EAA9B,iCAOR,SAAC,EAAAa,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C","sources":["components/api.jsx","webpack://goit-react-hw-05-movies/./src/pages/movieDetails.module.css?d9a6","pages/movieDetails.jsx"],"sourcesContent":["// const key = 'a7847a7111d49121298d04d56ec9460a';\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhNzg0N2E3MTExZDQ5MTIxMjk4ZDA0ZDU2ZWM5NDYwYSIsInN1YiI6IjY0ZGM3OWQ0ZDEwMGI2MTRiNWY2YjlmZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.P2495hNu_tPV7ATn8vHZ3gQxpzZA5UQFueIAJcgSG4A',\n  },\n};\n\nexport async function getTrends() {\n  const result = await fetch(\n    // 'https://api.themoviedb.org/3/trending/all/day?language=en-US',\n    'https://api.themoviedb.org/3/trending/all/week',\n    options\n  );\n  return result;\n}\n\nexport async function findMovie(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?language=en-US`,\n    options\n  );\n  const movie = await result.json();\n  return movie;\n}\n\nexport async function getCast(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?language=en-US`,\n    options\n  );\n  const cast = await result.json();\n  return cast;\n}\n\nexport async function getReviews(movieId) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n    options\n  );\n  const reviews = await result.json();\n  return reviews;\n}\n\nexport async function findMovieByName(query) {\n  const result = await fetch(\n    `https://api.themoviedb.org/3/search/movie?query=${query}&include_adult=false&language=en-US&page=1`,\n    options\n  );\n  const movie = await result.json();\n  return movie;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"movieDetails_link__88tex\",\"poster\":\"movieDetails_poster__frIHh\",\"title\":\"movieDetails_title__9yiRJ\",\"text\":\"movieDetails_text__ygYIx\",\"list\":\"movieDetails_list__htjoq\",\"li\":\"movieDetails_li__pApm7\"};","import { findMovie } from 'components/api';\nimport { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport css from './movieDetails.module.css';\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  // console.log(location);\n  const backdropLink = useRef(location.state?.from ?? '/');\n  // console.log(backdropLink);\n  const defaultImg =\n    'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n  const { id } = useParams();\n  const [currentMovie, setCurrentMovie] = useState('');\n  // const currentMovie = findMovie(id);\n  useEffect(() => {\n    findMovie(id)\n      .then(res => {\n        if (res.success === false) {\n          return Promise.reject(new Error('someting went wrong'));\n        }\n        // console.log(res);\n        setCurrentMovie(res);\n      })\n      .catch(error => alert(error));\n  }, [id]);\n\n  // console.log(currentMovie);\n  return (\n    <div>\n      <div>\n        <Link to={backdropLink.current} className={css.link}>\n          Go back\n        </Link>\n        <h1 className={css.title}>{currentMovie.title}</h1>\n        <img\n          src={\n            currentMovie.poster_path\n              ? [`https://image.tmdb.org/t/p/w500/${currentMovie.poster_path}`]\n              : defaultImg\n          }\n          width={250}\n          height={375}\n          className={css.poster}\n          alt=\"poster\"\n        />\n        <p className={css.text}>User Score: {currentMovie.vote_average}</p>\n        <div>\n          <h2 className={css.title}>Overview</h2>\n          <p className={css.text}>{currentMovie.overview}</p>\n        </div>\n        <div>\n          <h2 className={css.title}>Gernes</h2>\n          <ul className={css.list}>\n            {currentMovie &&\n              currentMovie.genres.map(gerne => {\n                return (\n                  <li className={css.li} key={gerne.id}>\n                    {gerne.name}\n                  </li>\n                );\n              })}\n          </ul>\n        </div>\n        <div>\n          <h2 className={css.title}>Addtional info</h2>\n          <ul className={css.list}>\n            <li>\n              <Link to=\"cast\" className={css.link}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link to=\"reviews\" className={css.link}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["options","method","headers","accept","Authorization","getTrends","fetch","result","findMovie","movieId","json","movie","getCast","cast","getReviews","reviews","findMovieByName","query","location","useLocation","backdropLink","useRef","state","from","id","useParams","useState","currentMovie","setCurrentMovie","useEffect","then","res","success","Promise","reject","Error","catch","error","alert","Link","to","current","className","css","title","src","poster_path","width","height","alt","vote_average","overview","genres","map","gerne","name","Suspense","fallback"],"sourceRoot":""}